{"ast":null,"code":"var _jsxFileName = \"/Users/lukefowles/BNTA/capstone-project/bnta-capstone-project/client-side/src/pages/AdminPage.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { fetchPlayerData } from '../adaptors/PlayerAdaptor';\nimport { useState, useEffect } from 'react';\nimport Button from '../components/Button';\nimport { postAllPlayers, updateAllPlayers } from '../adaptors/BackendAdapter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AdminPage() {\n  _s();\n\n  const [players, setPlayers] = useState([]); // prem, bunds, seriaa, ligue1, laliga\n\n  const leagues = [39, 78, 135, 61, 140];\n  const pages = [36, 33, 44, 40, 35];\n  useEffect(() => {\n    // getAllPlayersPrem();\n    // getAllPlayersBundesliga();\n    for (let i = 0; i <= leagues.length; i++) {\n      const league = leagues[i];\n      const page = pages[i];\n\n      for (let i = 1; i <= page; i++) {\n        fetchPlayerData(league, i).then(response => {\n          // console.log(response);\n          setPlayers(players => players.concat(response));\n          console.log(players);\n          return;\n        });\n      }\n    }\n\n    return;\n  }, []);\n  useEffect(() => console.log(players), [players]); // useEffect(() => {\n  //     getAllPlayersBundesliga();\n  // }, [])\n\n  const postPlayersToDb = () => {\n    postAllPlayers(players);\n  };\n\n  const updatePlayersInDb = () => {\n    updateAllPlayers(players);\n  };\n\n  const getAllFromLeague = (theLeague, noPages) => {\n    const league = theLeague;\n    const pages = noPages;\n\n    for (let i = 1; i <= pages; i++) {\n      fetchPlayerData(league, i).then(response => {\n        // console.log(response);\n        setPlayers(players.concat(response));\n        console.log(players);\n        return players;\n      });\n    }\n  };\n\n  const getAllPlayersPrem = () => {\n    const league = 39;\n    const pages = 3;\n\n    for (let i = 1; i <= pages; i++) {\n      fetchPlayerData(league, i).then(response => {\n        setPlayers(players.concat(response));\n        return players;\n      });\n    }\n  }; // console.log(players);\n\n\n  const getAllPlayersBundesliga = () => {\n    const league = 78;\n    const pages = 3;\n\n    for (let i = 1; i <= pages; i++) {\n      fetchPlayerData(league, i).then(response => {\n        setPlayers(players.concat(response));\n        return players;\n      });\n    }\n  }; // const getAllPlayersPrem = () => {\n  //     const league = 39\n  //     const pages = 3\n  //     for (let i=1 ; i<=pages ; i++){\n  //         fetchPlayerData(league, i)\n  //         .then(response =>{ \n  //             setPlayers(players.concat(response)) \n  //             return players\n  //             })\n  //     }\n  // }\n\n\n  return players.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      clickMethod: postPlayersToDb,\n      name: \"Post players to db\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      clickMethod: updateAllPlayers,\n      name: \"Update player stats\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }, this), players[0].name]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 13\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 13\n  }, this);\n}\n\n_s(AdminPage, \"wE/xxOFGBmPB288mpRSP1rtoapk=\");\n\n_c = AdminPage;\nexport default AdminPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"sources":["/Users/lukefowles/BNTA/capstone-project/bnta-capstone-project/client-side/src/pages/AdminPage.js"],"names":["React","fetchPlayerData","useState","useEffect","Button","postAllPlayers","updateAllPlayers","AdminPage","players","setPlayers","leagues","pages","i","length","league","page","then","response","concat","console","log","postPlayersToDb","updatePlayersInDb","getAllFromLeague","theLeague","noPages","getAllPlayersPrem","getAllPlayersBundesliga","name"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { fetchPlayerData } from '../adaptors/PlayerAdaptor';\nimport { useState, useEffect } from 'react';\nimport Button from '../components/Button';\nimport { postAllPlayers, updateAllPlayers } from '../adaptors/BackendAdapter'\n\nfunction AdminPage() {\n\n    const [players, setPlayers] = useState([]);\n    // prem, bunds, seriaa, ligue1, laliga\n    const leagues = [39, 78, 135, 61, 140]\n    const pages = [36, 33, 44, 40, 35]\n\n    useEffect(() => {\n        // getAllPlayersPrem();\n        // getAllPlayersBundesliga();\n        for (let i = 0; i <= leagues.length; i++) {\n            const league = leagues[i]\n            const page = pages[i]\n            for (let i = 1; i <= page; i++) {\n                fetchPlayerData(league, i)\n                    .then(response => {\n                        // console.log(response);\n                        setPlayers(players => players.concat(response));\n                        console.log(players)\n                        return \n                    })\n            }\n        } return \n    }, [])\n\n    useEffect(() => console.log(players), [players])\n\n\n    // useEffect(() => {\n    //     getAllPlayersBundesliga();\n    // }, [])\n\n    const postPlayersToDb = () => {\n        postAllPlayers(players)\n\n    }\n\n    const updatePlayersInDb = () => {\n        updateAllPlayers(players)\n    }\n\n    const getAllFromLeague = (theLeague, noPages) => {\n        const league = theLeague\n        const pages = noPages\n        for (let i = 1; i <= pages; i++) {\n            fetchPlayerData(league, i)\n                .then(response => {\n                    // console.log(response);\n                    setPlayers(players.concat(response));\n                    console.log(players)\n                    return players\n                })\n        }\n    }\n\n    const getAllPlayersPrem = () => {\n        const league = 39\n        const pages = 3\n        for (let i = 1; i <= pages; i++) {\n            fetchPlayerData(league, i)\n                .then(response => {\n                    setPlayers(players.concat(response))\n                    return players\n                })\n        }\n    }\n\n    // console.log(players);\n\n\n    const getAllPlayersBundesliga = () => {\n        const league = 78\n        const pages = 3\n        for (let i = 1; i <= pages; i++) {\n            fetchPlayerData(league, i)\n                .then(response => {\n                    setPlayers(players.concat(response))\n                    return players\n                })\n        }\n    }\n\n\n    // const getAllPlayersPrem = () => {\n    //     const league = 39\n    //     const pages = 3\n    //     for (let i=1 ; i<=pages ; i++){\n    //         fetchPlayerData(league, i)\n    //         .then(response =>{ \n    //             setPlayers(players.concat(response)) \n    //             return players\n    //             })\n    //     }\n    // }\n\n    return (\n\n        players.length > 0 ?\n\n\n            <div>\n                <Button clickMethod={postPlayersToDb} name=\"Post players to db\" />\n                <Button clickMethod={updateAllPlayers} name=\"Update player stats\" />\n                {players[0].name}\n            </div>\n\n            :\n            <div>loading...</div>\n    )\n}\n\nexport default AdminPage\n"]},"metadata":{},"sourceType":"module"}