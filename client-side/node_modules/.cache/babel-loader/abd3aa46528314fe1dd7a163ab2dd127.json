{"ast":null,"code":"import Player from \"../classes/Player\";\nimport axios from 'axios'; // constructor(id, name, photo, teamName, appearances, position, goals, assists, yellows, reds, conceded,\n//     totalPoints, weeklyPoints, leagueName) \n\nconst headers = {\n  \"x-rapidapi-host\": \"api-football-v1.p.rapidapi.com\",\n  \"x-rapidapi-key\": \"8a15d1d999mshb785661a047bb68p19f301jsnc6e23033d15e\"\n};\n\nfunction fetchPlayerData(league, page) {\n  const query = {\n    \"league\": league,\n    \"page\": page\n  };\n  let playerList = [];\n  return axios.get(`https://api-football-v1.p.rapidapi.com/v3/players?league=${league}&season=2021&page=${page}`, {\n    headers: {\n      \"x-rapidapi-host\": \"api-football-v1.p.rapidapi.com\",\n      \"x-rapidapi-key\": \"8a15d1d999mshb785661a047bb68p19f301jsnc6e23033d15e\"\n    }\n  }).then( //Map through data\n  //for each player, create new instance of the player and push to player list/array\n  //Return list of players (post request in adminPage)\n  result => {\n    //console.log(result.data.response)\n    result.data.response.forEach(player => {\n      const playerObject = new Player(player.player.id, player.player.name, player.player.photo, player.statistics[0].team.name, player.statistics[0].games.appearances, player.statistics[0].games.position, player.statistics[0].goals.total, player.statistics[0].goals.assists, player.statistics[0].cards.yellow, player.statistics[0].cards.red + player.statistics[0].cards.yellowred, player.statistics[0].goals.conceded, player.statistics[0].league.name);\n      playerList.push(playerObject);\n    });\n    return playerList;\n  });\n}\n\nexport { fetchPlayerData };","map":{"version":3,"sources":["/Users/lukefowles/BNTA/capstone-project/bnta-capstone-project/client-side/src/adaptors/PlayerAdaptor.js"],"names":["Player","axios","headers","fetchPlayerData","league","page","query","playerList","get","then","result","data","response","forEach","player","playerObject","id","name","photo","statistics","team","games","appearances","position","goals","total","assists","cards","yellow","red","yellowred","conceded","push"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;AACA;;AAEA,MAAMC,OAAO,GAAG;AACZ,qBAAoB,gCADR;AAEZ,oBAAmB;AAFP,CAAhB;;AAMA,SAASC,eAAT,CAAyBC,MAAzB,EAAiCC,IAAjC,EAAuC;AAEnC,QAAMC,KAAK,GAAG;AACV,cAAWF,MADD;AAEV,YAAWC;AAFD,GAAd;AAKA,MAAIE,UAAU,GAAG,EAAjB;AAEA,SACIN,KAAK,CAACO,GAAN,CAAW,4DAA2DJ,MAAO,qBAAoBC,IAAK,EAAtG,EAAyG;AACrGH,IAAAA,OAAO,EAAE;AACL,yBAAoB,gCADf;AAEL,wBAAmB;AAFd;AAD4F,GAAzG,EAMKO,IANL,EAQQ;AACA;AACA;AACAC,EAAAA,MAAM,IAAI;AACN;AACAA,IAAAA,MAAM,CAACC,IAAP,CAAYC,QAAZ,CAAqBC,OAArB,CAA6BC,MAAM,IAAI;AACnC,YAAMC,YAAY,GAAG,IAAIf,MAAJ,CAAWc,MAAM,CAACA,MAAP,CAAcE,EAAzB,EACjBF,MAAM,CAACA,MAAP,CAAcG,IADG,EAEjBH,MAAM,CAACA,MAAP,CAAcI,KAFG,EAGjBJ,MAAM,CAACK,UAAP,CAAkB,CAAlB,EAAqBC,IAArB,CAA0BH,IAHT,EAIjBH,MAAM,CAACK,UAAP,CAAkB,CAAlB,EAAqBE,KAArB,CAA2BC,WAJV,EAKjBR,MAAM,CAACK,UAAP,CAAkB,CAAlB,EAAqBE,KAArB,CAA2BE,QALV,EAMjBT,MAAM,CAACK,UAAP,CAAkB,CAAlB,EAAqBK,KAArB,CAA2BC,KANV,EAOjBX,MAAM,CAACK,UAAP,CAAkB,CAAlB,EAAqBK,KAArB,CAA2BE,OAPV,EAQjBZ,MAAM,CAACK,UAAP,CAAkB,CAAlB,EAAqBQ,KAArB,CAA2BC,MARV,EASjBd,MAAM,CAACK,UAAP,CAAkB,CAAlB,EAAqBQ,KAArB,CAA2BE,GAA3B,GAAiCf,MAAM,CAACK,UAAP,CAAkB,CAAlB,EAAqBQ,KAArB,CAA2BG,SAT3C,EAUjBhB,MAAM,CAACK,UAAP,CAAkB,CAAlB,EAAqBK,KAArB,CAA2BO,QAVV,EAWjBjB,MAAM,CAACK,UAAP,CAAkB,CAAlB,EAAqBf,MAArB,CAA4Ba,IAXX,CAArB;AAaAV,MAAAA,UAAU,CAACyB,IAAX,CAAgBjB,YAAhB;AACH,KAfD;AAgBA,WAAOR,UAAP;AACH,GA9BT,CADJ;AAmCH;;AAED,SAAQJ,eAAR","sourcesContent":["import Player from \"../classes/Player\"\nimport axios from 'axios';\n\n// constructor(id, name, photo, teamName, appearances, position, goals, assists, yellows, reds, conceded,\n//     totalPoints, weeklyPoints, leagueName) \n\nconst headers = {\n    \"x-rapidapi-host\" : \"api-football-v1.p.rapidapi.com\",\n    \"x-rapidapi-key\" : \"8a15d1d999mshb785661a047bb68p19f301jsnc6e23033d15e\",\n}\n\n\nfunction fetchPlayerData(league, page) {\n\n    const query = {\n        \"league\" : league,\n        \"page\"   : page,\n    }\n\n    let playerList = [];\n\n    return (\n        axios.get(`https://api-football-v1.p.rapidapi.com/v3/players?league=${league}&season=2021&page=${page}`, {\n            headers: {\n                \"x-rapidapi-host\":  \"api-football-v1.p.rapidapi.com\",\n                \"x-rapidapi-key\" : \"8a15d1d999mshb785661a047bb68p19f301jsnc6e23033d15e\",\n            }\n          })\n            .then(\n\n                //Map through data\n                //for each player, create new instance of the player and push to player list/array\n                //Return list of players (post request in adminPage)\n                result => {\n                    //console.log(result.data.response)\n                    result.data.response.forEach(player => {\n                        const playerObject = new Player(player.player.id,\n                            player.player.name,\n                            player.player.photo,\n                            player.statistics[0].team.name,\n                            player.statistics[0].games.appearances,\n                            player.statistics[0].games.position,\n                            player.statistics[0].goals.total,\n                            player.statistics[0].goals.assists,\n                            player.statistics[0].cards.yellow,\n                            player.statistics[0].cards.red + player.statistics[0].cards.yellowred,\n                            player.statistics[0].goals.conceded,\n                            player.statistics[0].league.name,\n                        );\n                        playerList.push(playerObject);\n                    });\n                    return playerList;\n                }\n            )\n    )\n\n}\n\nexport {fetchPlayerData};\n"]},"metadata":{},"sourceType":"module"}